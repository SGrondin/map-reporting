// Generated by CoffeeScript 1.6.3
(function() {
  exports.getEmbeddedJS = function(labels) {
    return "\n<![CDATA[\n\n	var usingAlternateColor = false;\n	var hoveredStroke = null;\n	var selectedShape = null;\n	var selectedStroke = null;\n	var head = document.getElementById(\"head\");\n\n	function displayShapeInDashboard(shape){\n		document.getElementById(\"dashboardTitle\").firstChild.nodeValue = shape.getAttribute(\"id\")+\" \"+shape.getAttribute(\"name\");\n		document.getElementById(\"dashboardLink\").setAttribute(\"xlink:href\", shape.getAttribute(\"link\").replace(/&/g, \"%26\"));\n		document.getElementById(\"dashboardLinkText\").firstChild.nodeValue = " + "\"" + labels.link + "\";\ndocument.getElementById(\"dashboardSatisfaction\").firstChild.nodeValue = " + "\"" + labels.value + ": \"+shape.getAttribute(\"value\");\n	}\n	function emptyDashboard(){\n		document.getElementById(\"dashboardTitle\").firstChild.nodeValue = \"Nothing selected\";\n		document.getElementById(\"dashboardLinkText\").firstChild.nodeValue = \"\";\n		document.getElementById(\"dashboardSatisfaction\").firstChild.nodeValue = \"\";\n	}\n\n	function putOnTop(shape){\n		displayShapeInDashboard(shape);\n		head.appendChild(shape);\n		//Then put the shape's id back on top of it\n		id = document.getElementById(\"id\"+shape.getAttribute(\"id\"));\n		head.appendChild(id);\n	}\n	function selectShape(shape){\n		selectedShape = shape;\n		selectedStroke = hoveredStroke;\n		shape.setAttribute(\"stroke\", \"#000000\");\n		shape.setAttribute(\"stroke-opacity\", \"1\");\n		shape.setAttribute(\"stroke-width\", \"6\");\n		shape.removeAttribute(\"stroke-dasharray\");\n	}\n	function releaseShape(){\n		selectedShape.setAttribute(\"stroke\", selectedStroke);\n		selectedShape.setAttribute(\"stroke-width\", \"4\");\n		selectedShape.setAttribute(\"stroke-opacity\", \"0.4\");\n		selectedStroke = null;\n		selectedShape = null;\n	}\n	function mouseOver(evt){\n		putOnTop(evt.target);\n		if (evt.target !== selectedShape){\n			hoveredStroke = evt.target.getAttribute(\"stroke\");\n			evt.target.setAttribute(\"stroke\", \"#000000\");\n			evt.target.setAttribute(\"stroke-opacity\", \"1\");\n			evt.target.setAttribute(\"stroke-width\", \"6\");\n			evt.target.setAttribute(\"stroke-dasharray\", \"12,8\");\n		}\n	}\n	function mouseOut(evt){\n		if (selectedShape !== null){\n			putOnTop(selectedShape);\n		}else{\n			emptyDashboard();\n		}\n		evt.target.removeAttribute(\"stroke-dasharray\");\n		if (evt.target !== selectedShape){\n			evt.target.setAttribute(\"stroke\", hoveredStroke);\n			evt.target.setAttribute(\"stroke-opacity\", \"0.4\");\n			evt.target.setAttribute(\"stroke-width\", \"4\");\n		}\n	}\n	function mouseDown(evt){\n		if (selectedShape === null){\n			selectShape(evt.target);\n		}else if (evt.target === selectedShape){\n			hoveredStroke = selectedStroke;\n			selectedStroke = null;\n			selectedShape = null;\n			evt.target.setAttribute(\"stroke-dasharray\", \"12,8\");\n		}else{\n			releaseShape();\n			selectShape(evt.target);\n		}\n	}\n	function changeScaleColor(evt){\n		elements = document.getElementsByClassName(\"good\");\n		console.log(elements.length);\n		for (var i=0;i<elements.length;i++){\n			var element = elements[i];\n			if (usingAlternateColor){\n				element.setAttribute(\"fill\", \"url(#\"+element.getAttribute(\"initialFilter\")+\")\");\n				element.setAttribute(\"stroke\", element.getAttribute(\"initialColor\"));\n			}else{\n				element.setAttribute(\"fill\", \"url(#\"+element.getAttribute(\"alternateFilter\")+\")\");\n				element.setAttribute(\"stroke\", element.getAttribute(\"alternateColor\"));\n			}\n		}\n		usingAlternateColor = !usingAlternateColor;\n	}\n]]>";
  };

}).call(this);
